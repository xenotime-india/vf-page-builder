{"version":3,"sources":["app.js"],"names":["apiVersion","requestMetadata","allProfiles","requestSqlData","type","table","soqlFields","soqlWhere","fields","apiFieldIndex","filterBy","filterByMetadata","sforce","jsforce","Connection","serverUrl","getServerURL","sessionId","__getCookie","changefilterMode","newmode","newmode1","arr","window","location","href","split","addRow","data","jQuery","append","map","item","isDate","moment","Date","format","fromNow","Name","forEach","value","find","createPanel","title","tab","attr","topPanel","panel","createTable","tableId","i","length","selectAll","check","obj","nNodes","dataTable","fnGetNodes","each","is","this","addClass","removeClass","globalSelectAll","val","index","globalUnSelectAll","maketypeblock","table_data","name","XMLString","DataTable","rows","Array","isArray","join","reduce","state","makeobjectToRetrive","returnData","members","push","getPackage","showLoading","resourceType","result","metadata","retrieve","unpackaged","types","version","complete","err","console","error","log","zipFile","hideLoading","alert","deploy","startChangeSetWorker","changeSetName","changeSetDescription","trim","modal","profiles","localStorage","setItem","JSON","stringify","open","protocol","host","createChangeSet","backdrop","keyboard","ezBSAlert","messageText","alertType","loginUser","bigTestBlob","Blob","blobToBase64","x","fileObj","File","formData","FormData","fetch","method","body","then","response","json","catch","showError","generateXml","updateData","setTimeout","html","workWithSOQL","workWithSessionStorageMetaData","userDate","convertDate","requestPromises","query","Promise","all","results","records","order","indexOf","iDisplayLength","on","toggleClass","hasClass","resolve","reject","add","sessionStorage","getItem","parse","hasRecord","manageableState","isAfter","workWithMetaData","list","removeItem","theDate","today","year","getFullYear","month","getMonth","day","getDate","show","hide","describe","metadataObjects","childXmlNames","childXmlName","filter","toLowerCase","xmlName","sort","a","b","Id"],"mappings":"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","file":"app.min.js","sourcesContent":["var apiVersion = '41.0';\nvar requestMetadata = [];\n\nvar allProfiles = {};\n\nvar requestSqlData = [\n    {\n        type:'ApexClass',\n        table: 'ApexClass_tb',\n        soqlFields: 'Id, Name, LastModifiedDate, LastModifiedBy.Name, CreatedBy.Name, CreatedDate',\n        soqlWhere: 'NamespacePrefix = null',\n        fields: [ 'Select','Id', 'Name', 'LastModifiedDate', 'LastModifiedBy',\n            'CreatedDate','CreatedBy' ],\n        apiFieldIndex: 2,\n    }, {\n        type:'ApexPage',\n        table: 'ApexPage_tb',\n        soqlFields: 'Id, Name, LastModifiedDate, LastModifiedBy.Name, CreatedBy.Name, CreatedDate',\n        soqlWhere: 'NamespacePrefix = null',\n        fields: [ 'Select','Id', 'Name', 'LastModifiedDate', 'LastModifiedBy',\n            'CreatedDate','CreatedBy' ],\n        apiFieldIndex: 2,\n    }, {\n        type:'ApexTrigger',\n        table: 'ApexTrigger_tb',\n        soqlFields: 'Id, Name, LastModifiedDate, LastModifiedBy.Name, CreatedBy.Name, CreatedDate',\n        soqlWhere: 'NamespacePrefix = null',\n        fields: [ 'Select','Id', 'Name', 'LastModifiedDate', 'LastModifiedBy',\n            'CreatedDate','CreatedBy' ],\n        apiFieldIndex: 2,\n    }, {\n        type:'ApexComponent',\n        table: 'ApexComponent_tb',\n        soqlFields: 'Id, Name, LastModifiedDate, LastModifiedBy.Name, CreatedBy.Name, CreatedDate',\n        soqlWhere: 'NamespacePrefix = null',\n        fields: [ 'Select','Id', 'Name', 'LastModifiedDate', 'LastModifiedBy',\n            'CreatedDate','CreatedBy' ],\n        apiFieldIndex: 2,\n    }, {\n        type:'StaticResource',\n        table: 'StaticResource_tb',\n        soqlFields: 'Id, Name, LastModifiedDate, LastModifiedBy.Name, CreatedBy.Name, CreatedDate',\n        soqlWhere: 'NamespacePrefix = null',\n        fields: [ 'Select','Id', 'Name', 'LastModifiedDate', 'LastModifiedBy',\n            'CreatedDate','CreatedBy' ],\n        apiFieldIndex: 2,\n    }, {\n        type:'WebLink',\n        table: 'WebLink_tb',\n        soqlFields: 'Id, Name, LastModifiedDate, LastModifiedBy.Name, CreatedBy.Name, CreatedDate, PageOrSobjectType',\n        soqlWhere: 'NamespacePrefix = null',\n        fields: ['Select','Id', 'Name', 'PageOrSobjectType', 'LastModifiedDate', 'LastModifiedBy',\n            'CreatedDate','CreatedBy'],\n        apiFieldIndex: [3,2],\n    }, {\n        type:'Dashboard',\n        table: 'Dashboard_tb',\n        soqlFields: 'Id, Title, LastModifiedDate, LastModifiedBy.Name, CreatedBy.Name, CreatedDate',\n        soqlWhere: 'NamespacePrefix = null',\n        fields: [ 'Select','Id', 'Title', 'LastModifiedDate', 'LastModifiedBy',\n            'CreatedDate','CreatedBy' ],\n        apiFieldIndex: 2,\n    }, {\n        type:'Report',\n        table: 'Report_tb',\n        soqlFields: 'Id, Name, DeveloperName,LastModifiedDate, LastModifiedBy.Name, CreatedBy.Name, CreatedDate',\n        soqlWhere: 'NamespacePrefix = null',\n        fields: [ 'Select','Id', 'Name','DeveloperName','LastModifiedDate', 'LastModifiedBy',\n            'CreatedDate','CreatedBy' ],\n        apiFieldIndex: 3,\n    }, {\n        type:'RecordType',\n        table: 'RecordType_tb',\n        soqlFields: 'Id, SobjectType, Name, LastModifiedDate, LastModifiedBy.Name, CreatedBy.Name, CreatedDate, DeveloperName',\n        soqlWhere: 'NamespacePrefix = null',\n        fields: [ 'Select','Id', 'SobjectType' ,'Name','DeveloperName','LastModifiedDate', 'LastModifiedBy',\n            'CreatedDate','CreatedBy' ],\n        apiFieldIndex: [2,4],\n    }, {\n        type:'ActionLinkGroupTemplate',\n        table: 'ActionLinkGroupTemplate_tb',\n        soqlFields: 'Id, MasterLabel, DeveloperName, LastModifiedDate, LastModifiedBy.Name, CreatedBy.Name, CreatedDate',\n        soqlWhere: 'Id != null',\n        fields: [ 'Select','Id', 'MasterLabel', 'DeveloperName', 'LastModifiedDate', 'LastModifiedBy',\n            'CreatedDate','CreatedBy' ],\n        apiFieldIndex: 3,\n    }];\n\nvar filterBy = 'LastModifiedDate';\nvar filterByMetadata = 'lastModifiedDate';\n\nvar sforce = new jsforce.Connection({\n    serverUrl : getServerURL(),\n    sessionId : __getCookie('sid')\n});\nfunction changefilterMode(newmode,newmode1) {\n    filterBy = newmode;\n    filterByMetadata = newmode1;\n}\n\nfunction getServerURL() {\n    var url = window.location.href;\n    var arr = url.split(\"/\");\n    return arr[0] + \"//\" + arr[2];\n}\n\nfunction addRow(data, fields, table) {\n    jQuery(table).append('<tr/>');\n\n    var tdgroup = fields.map(function (item) {\n        if(item == 'Select') {\n            return jQuery('<td><span aria-hidden=\"true\" class=\"glyphicon glyphicon-unchecked\"></span></td>');\n        }\n        else if(data[item] == 'null' || data[item] == null) {\n            return jQuery('<td></td>');\n        }\n        else if(isDate(data[item])) {\n            return jQuery('<td>' + moment(new Date(data[item])).format('YYYY-MM-DD') + '<br/>(' +moment(new Date(data[item])).fromNow() +')</td>');\n        }\n        else if(typeof(data[item]) == 'string') {\n            return jQuery('<td>' + data[item] + '</td>');\n        }\n        else {\n            return jQuery('<td>' + data[item].Name + '</td>');\n        }\n        return jQuery('<td></td>');\n    })\n    tdgroup.forEach(function (value) {\n        jQuery(table).find('tr:last').append(value);\n    });\n}\n\nfunction createPanel(title,table,tab) {\n    jQuery(tab).append('<li><a href=\"#'+jQuery(table).attr('Id')+'-tab\" role=\"tab\" data-toggle=\"tab\">'+title+'</a></li>')\n    var topPanel = jQuery('<div class=\"tab-pane\" id=\"'+jQuery(table).attr('Id')+'-tab\"/>');\n    var panel = jQuery('<div class=\"panel panel-default\"/>');\n    jQuery(panel).append('<div class=\"panel-heading\"> '+title+'</div>');\n    jQuery(panel).append('<div class=\"panel-body\"></div>');\n    jQuery(panel).find('.panel-body').append(jQuery(table));\n    jQuery(topPanel).append(jQuery(panel));\n    return jQuery(topPanel);\n}\n\nfunction createTable(fields,tableId) {\n    var table = jQuery('<table id=\"'+tableId+'\" cellpadding=\"0\" border=\"0\" class=\"table table-striped table-bordered\" cellspacing=\"0\" width=\"100%\"></table>');\n    jQuery(table).append('<thead></thead>');\n    jQuery(table).append('<tbody></tbody>');\n    jQuery(table).find('thead').append('<tr/>');\n    for (i = 0; i < fields.length; i++) {\n        if(fields[i] == 'Select') {\n            jQuery(table).find('tr:last').append(\n                '<td><input type=\"checkbox\" onclick=\"selectAll(this,\\''+tableId+'\\',\\'\\')\"/></td>');\n        }\n        else {\n            jQuery(table).find('thead>tr').append('<th>' + fields[i] + '</th>');\n        }\n    }\n    return jQuery(table);\n}\n\nfunction selectAll(check,table,obj) {\n    var dataTbl;\n    if(table != '') {\n        dataTbl = jQuery('#'+table).dataTable();\n    }\n    else {\n        dataTbl = jQuery(obj).dataTable();\n    }\n    var nNodes = dataTbl.fnGetNodes();\n    jQuery(nNodes).each(function() {\n        if(check == '' || jQuery(check).is(':checked')) {\n            jQuery(this).addClass('selected');\n            jQuery(this).find('span.glyphicon').removeClass('glyphicon-unchecked').addClass('glyphicon-check');\n        }\n        else {\n            jQuery(this).removeClass('selected');\n            jQuery(this).find('span.glyphicon').removeClass('glyphicon-check').addClass('glyphicon-unchecked');\n        }\n    });\n}\n\nfunction globalSelectAll() {\n    requestMetadata.forEach(function(val, index) {\n        selectAll('','',jQuery('#'+val.table));\n    });\n    requestSqlData.forEach(function(val, index) {\n        selectAll('','',jQuery('#'+val.table));\n    });\n}\n\nfunction globalUnSelectAll() {\n    requestMetadata.forEach(function(val, index) {\n        selectAll(' ','',jQuery('#'+val.table));\n    });\n    requestSqlData.forEach(function(val, index) {\n        selectAll(' ','',jQuery('#'+val.table));\n    });\n}\n\nfunction maketypeblock(table_data,index,name) {\n    var XMLString = '';\n    if(jQuery(table_data).DataTable().rows('.selected').data().length > 0) {\n        XMLString += '\\n    <types>';\n        var dataResult = jQuery(table_data).DataTable().rows('.selected').data().map(function (item) {\n            if(typeof(index) == 'number') {\n                if(item[index] != '' && item[index] != 'null' && item[index] != null) {\n                    return '\\n        <members>' + item[index] + '</members>';\n                } else {\n                    return '';\n                }\n            }\n            else if(Array.isArray(index)) {\n                var result = index.map(function (i) {\n                    return item[i];\n                });\n                return '\\n        <members>' + (result.join('.')) + '</members>';\n            } else {\n                return '';\n            }\n        });\n\n        XMLString += dataResult.reduce(function (item, state) {\n            return state + item;\n        });\n        XMLString += ' \\n       <name>'+name+'</name>';\n        XMLString += ' \\n   </types>';\n    }\n\n    return XMLString;\n}\nfunction makeobjectToRetrive(table_data, index, type) {\n    var returnData;\n    if(jQuery(table_data).DataTable().rows('.selected').data().length > 0) {\n        returnData = {name:type,members:[]};\n        jQuery(jQuery(table_data).DataTable().rows('.selected').data()).each(function() {\n            if(typeof(index) == 'number') {\n                if(jQuery(this)[index] != '' && jQuery(this)[index] != 'null' && jQuery(this)[index] != null) {\n                    returnData.members.push(jQuery(this)[index]);\n                }\n            }\n            else {\n                for(i = 0 ; i < index.length ; i++) {\n                    var XMLString = '';\n                    if(jQuery(this)[index[i]] != '' && jQuery(this)[index[i]] != 'null' && jQuery(this)[index[i]] != null) {\n                        if(i != index.length - 1) {\n                            XMLString += jQuery(this)[index[i]] + '.';\n                        }\n                        else {\n                            XMLString += jQuery(this)[index[i]];\n                        }\n                    }\n                    returnData.members.push(XMLString);\n                }\n            }\n        });\n    }\n    return returnData;\n}\nfunction getPackage() {\n    showLoading();\n    var resourceType = [];\n\n    requestMetadata.forEach(function(val, index) {\n        var result = makeobjectToRetrive(jQuery('#'+val.table),val.apiFieldIndex,val.type)\n        if(typeof(result) != 'undefined') {\n            resourceType.push(result);\n        }\n    });\n    requestSqlData.forEach(function(val, index) {\n        var result = makeobjectToRetrive(jQuery('#'+val.table),val.apiFieldIndex,val.type)\n        if(typeof(result) != 'undefined') {\n            resourceType.push(result);\n        }\n    });\n    if(resourceType.length > 0) {\n        sforce.metadata.retrieve({\n            unpackaged: {\n                types: resourceType,\n                version: apiVersion\n            }\n        }).complete(function (err, value) {\n            if (err) { console.error(err); }\n            console.log('ready for download..');\n            location.href=\"data:application/zip;base64,\" + value.zipFile;\n            hideLoading();\n        });\n    }\n    else {\n        alert('No Resource selected...');\n        hideLoading();\n    }\n}\nfunction deploy() {\n    alert('Coming Sooooon.');\n    /*\n    jQuery('#loginDialog').modal({\n        backdrop: 'static',\n        keyboard: true\n    });\n    */\n}\n\nfunction startChangeSetWorker() {\n\n    var changeSetName = jQuery('#changeSetName').val();\n    var changeSetDescription = jQuery('#changeSetDescription').val();\n\n    if(changeSetName.trim().length > 0) {\n        jQuery('#changeSetDialog').modal('hide');\n        var resourceType = [];\n        var profiles = { name: 'Profile', members: []};\n        requestMetadata.forEach(function(val, index) {\n            if(val.type != 'Profile') {\n                var result = makeobjectToRetrive(jQuery('#' + val.table), 1, val.type)\n                if (typeof(result) != 'undefined') {\n                    resourceType.push(result);\n                }\n            } else {\n                var result = makeobjectToRetrive(jQuery('#' + val.table), 1, val.type);\n                if (typeof(result) != 'undefined') {\n                    result.members = result.members.map(function (item) {\n                        return allProfiles[item];\n                    })\n                    profiles = result;\n                }\n            }\n        });\n        requestSqlData.forEach(function(val, index) {\n            var result = makeobjectToRetrive(jQuery('#'+val.table),1,val.type)\n            if(typeof(result) != 'undefined') {\n                resourceType.push(result);\n            }\n        });\n        localStorage.setItem('changeSetName', changeSetName);\n        localStorage.setItem('changeSetDescription', changeSetDescription);\n        localStorage.setItem('changeSet', JSON.stringify(resourceType));\n        localStorage.setItem('profiles', JSON.stringify(profiles));\n        localStorage.setItem('processStatus', '1');\n        localStorage.setItem('DoneChangeSet', JSON.stringify([]));\n        window.open(window.location.protocol + '//' + window.location.host + '/changemgmt/createOutboundChangeSet.apexp?auto=1', \"_blank\");\n    } else {\n        jQuery('#changeSetName-form-group').addClass('has-error');\n    }\n}\n\nfunction createChangeSet() {\n    var resourceType = [];\n    requestMetadata.forEach(function(val, index) {\n        if(val.type != 'Profile') {\n            var result = makeobjectToRetrive(jQuery('#' + val.table), 1, val.type)\n            if (typeof(result) != 'undefined') {\n                resourceType.push(result);\n            }\n        }\n    });\n    requestSqlData.forEach(function(val, index) {\n        var result = makeobjectToRetrive(jQuery('#'+val.table),1,val.type)\n        if(typeof(result) != 'undefined') {\n            resourceType.push(result);\n        }\n    });\n    if(resourceType.length > 0) {\n        jQuery('#changeSetDialog').modal({\n            backdrop: 'static',\n            keyboard: true\n        });\n    } else {\n        ezBSAlert({\n            messageText: \"Please select resource before this action.\",\n            alertType: \"danger\"\n        });\n    }\n}\n\nfunction loginUser() {\n    var resourceType = [];\n\n    requestMetadata.forEach(function(val, index) {\n        var result = makeobjectToRetrive(jQuery('#'+val.table),val.apiFieldIndex,val.type)\n        if(typeof(result) != 'undefined') {\n            resourceType.push(result);\n        }\n    });\n    requestSqlData.forEach(function(val, index) {\n        var result = makeobjectToRetrive(jQuery('#'+val.table),val.apiFieldIndex,val.type)\n        if(typeof(result) != 'undefined') {\n            resourceType.push(result);\n        }\n    });\n\n    var requestObj = sforce.metadata.retrieve({\n        unpackaged: {\n            types: resourceType,\n            version: apiVersion\n        }\n    });\n\n    var fileName = 'package.zip';\n\n    requestObj.complete(function (err, value) {\n        if (err) { console.error(err); }\n        console.log('ready for download..');\n        var bigTestBlob = new Blob([value.zipFile], { type: \"application/zip\" });\n        blobToBase64(bigTestBlob, function(x) {\n            //console.log(value.zipFile);\n            //location.href=\"data:application/zip;base64,\" + value.zipFile;\n            var fileObj = new File([x], fileName, { type: 'application/zip'});\n            console.log('File object created:', fileObj);\n\n            var formData = new FormData();\n            formData.append('file', fileObj);\n\n            fetch('http://localhost:3000/upload', { // Your POST endpoint\n                method: 'POST',\n                body: formData\n            }).then(\n                function(response) { return response.json()} // if the response is a JSON object\n            ).then(\n                console.log  // Handle the success response object\n            ).catch(\n                showError\n            );\n        });\n    });\n}\n\nfunction generateXml() {\n    var XMLString = '<?xml version=\"1.0\" encoding=\"UTF-8\"?>';\n    XMLString += '\\n<Package xmlns=\"http://soap.sforce.com/2006/04/metadata\">'\n\n    requestMetadata.forEach(function(val, index) {\n        XMLString += maketypeblock(jQuery('#'+val.table),val.apiFieldIndex,val.type);\n    });\n    requestSqlData.forEach(function(val, index) {\n        XMLString += maketypeblock(jQuery('#'+val.table),val.apiFieldIndex,val.type);\n    });\n\n    XMLString += '\\n    <version>'+apiVersion+'</version>\\n</Package>';\n    jQuery('#xmlData').val(XMLString);\n    jQuery('#xmlDialog').modal();\n}\n\njQuery(function() {\n    showLoading();\n    jQuery('#dateField').val(moment().add(-1, 'M').format('YYYY-MM-DD'));\n    console.log(\"Ready for API fun!\");\n    sforce.metadata.describe(apiVersion).then(function(metadata) {\n        metadata.metadataObjects.forEach(function (value) {\n            if(value.childXmlNames) {\n                value.childXmlNames.forEach(function (childXmlName) {\n                    var result = requestSqlData.filter(function (item) {\n                        return item.type.toLowerCase() === childXmlName.toLowerCase();\n                    });\n                    if(result.length == 0) {\n                        requestMetadata.push({\n                            type: childXmlName,\n                            table: childXmlName + '_tb',\n                            apiFieldIndex: 2,\n                        });\n                    }\n                });\n            }\n            var result = requestSqlData.filter(function (item) {\n                return item.type.toLowerCase() === value.xmlName.toLowerCase();\n            });\n            if(result.length == 0) {\n                requestMetadata.push({\n                    type: value.xmlName,\n                    table: value.xmlName + '_tb',\n                    apiFieldIndex: 2,\n                });\n            }\n        });\n        requestMetadata = requestMetadata.sort(function (a, b) {\n            if (a.type < b.type) {\n                return -1;\n            }\n            if (a.type > b.type) {\n                return 1;\n            }\n            return 0;\n        });\n        return requestMetadata;\n    })\n        .then(function () {\n            return workWithSOQL();\n        })\n        .then(function () {\n            return workWithMetaData();\n        })\n        .then(function () {\n            var query = 'Select Id, Name, LastModifiedDate, LastModifiedBy.Name, CreatedBy.Name, CreatedDate From Profile';\n            return sforce.query(query);\n        })\n        .then(function (result) {\n            result.records.forEach(function (i) {\n                allProfiles[i.Id] = i.Name;\n            });\n            jQuery('#myTab a[href=\"#'+requestSqlData[0].type+'_tb-tab\"]').tab('show');\n            hideLoading();\n        })\n        .catch(showError);\n});\n\nfunction updateData() {\n    showLoading();\n    setTimeout(function(){\n\n        jQuery('#container').html('');\n        jQuery('#container-tab2').html('');\n        jQuery('#container-tab').html('');\n        workWithSOQL().then(function () {\n            return workWithSessionStorageMetaData();\n        }).then(function () {\n            jQuery('#myTab a[href=\"#'+requestSqlData[0].type+'_tb-tab\"]').tab('show');\n            hideLoading();\n        }).catch(showError);\n    },200);\n}\n\nfunction workWithSOQL() {\n\n    var userDate = '2015-12-10';\n    if(jQuery('#dateField').val() != '') {\n        userDate = convertDate(jQuery('#dateField').val());\n    }\n\n    var requestPromises = requestSqlData.map(function (item) {\n        var query = 'Select '+item.soqlFields+' From '+item.type+' where ';\n        query += userDate != '' ? filterBy +' >= ' + userDate + ' AND ': '';\n        query += ' '+item.soqlWhere+' order by '+filterBy+' desc';\n        return sforce.query(query);\n    });\n\n    return Promise.all(requestPromises).then(function(results) {\n        results.forEach(function(val, index) {\n            var records = val.records;\n            if (records && records.length > 0) {\n\n                var panel, table;\n\n                table = createTable(requestSqlData[index].fields, requestSqlData[index].table);\n                panel = createPanel(requestSqlData[index].type, table, jQuery('#container-tab'));\n\n                for (var i = 0; i < records.length; i++) {\n                    addRow(records[i], requestSqlData[index].fields, jQuery(table).find('tbody'));\n                }\n                jQuery('#container').append(jQuery(panel));\n\n                jQuery('#' + requestSqlData[index].table).DataTable({\n                    order: [[requestSqlData[index].fields.indexOf('LastModifiedDate'), \"desc\"]],\n                    iDisplayLength: 100\n                });\n\n                jQuery('#' + requestSqlData[index].table + ' tbody').on('click', 'tr', function () {\n                    jQuery(this).toggleClass('selected');\n                    if (jQuery(this).hasClass('selected')) {\n                        jQuery(this).find('span.glyphicon').removeClass('glyphicon-unchecked').addClass('glyphicon-check');\n                    }\n                    else {\n                        jQuery(this).find('span.glyphicon').removeClass('glyphicon-check').addClass('glyphicon-unchecked');\n                    }\n                });\n            }\n        });\n        return Promise.resolve();\n    }).catch(function (err) {\n        return Promise.reject(err);\n    });\n}\n\nfunction workWithSessionStorageMetaData() {\n    var fields = [ 'Select','id', 'fullName','fileName','lastModifiedDate','lastModifiedByName',\n        'createdDate','createdByName' ];\n    var userDate = moment().add(-1, 'M');\n    if(jQuery('#dateField').val() && jQuery('#dateField').val() != '') {\n        userDate = moment(jQuery('#dateField').val());\n    } else {\n        jQuery('#dateField').val(userDate.format('YYYY-MM-DD'));\n    }\n    requestMetadata.forEach(function (item) {\n        var val = sessionStorage.getItem(item.type) ? JSON.parse(sessionStorage.getItem(item.type)): null;\n        if(val && (!Array.isArray(val) || (Array.isArray(val) && val.length > 0))) {\n            var panel, table;\n            table = createTable(fields, item.table);\n            var hasRecord = false;\n            if(Array.isArray(val)) {\n                val.forEach(function (value) {\n                    if (value.manageableState != \"installed\" && moment(value[filterByMetadata]).isAfter(userDate)) {\n                        addRow(value, fields, jQuery(table).find('tbody'));\n                        hasRecord = true;\n                    }\n                });\n            } else {\n                if (val.manageableState != \"installed\" && moment(val[filterByMetadata]).isAfter(userDate)) {\n                    addRow(val, fields, jQuery(table).find('tbody'));\n                    hasRecord = true;\n                }\n            }\n\n            if(hasRecord) {\n                panel = createPanel(item.type, table, jQuery('#container-tab2'));\n                jQuery('#container').append(jQuery(panel));\n\n                jQuery('#' + item.table).DataTable({\n                    order: [[fields.indexOf('lastModifiedDate'), \"desc\"]],\n                    iDisplayLength: 100\n                });\n\n                jQuery('#' + item.table + ' tbody').on('click', 'tr', function () {\n                    jQuery(this).toggleClass('selected');\n                    if (jQuery(this).hasClass('selected')) {\n                        jQuery(this).find('span.glyphicon').removeClass('glyphicon-unchecked').addClass('glyphicon-check');\n                    }\n                    else {\n                        jQuery(this).find('span.glyphicon').removeClass('glyphicon-check').addClass('glyphicon-unchecked');\n                    }\n                });\n            }\n        }\n    });\n\n    return Promise.resolve();\n}\n\nfunction workWithMetaData() {\n    var fields = [ 'Select','id', 'fullName','fileName','lastModifiedDate','lastModifiedByName',\n        'createdDate','createdByName' ];\n    var userDate = moment().add(-1, 'M');\n    if(jQuery('#dateField').val() && jQuery('#dateField').val() != '') {\n        userDate = moment(jQuery('#dateField').val());\n    } else {\n        jQuery('#dateField').val(userDate.format('YYYY-MM-DD'));\n    }\n    var requestPromises = requestMetadata.map(function (item) {\n        var types = [{type: item.type}];\n        return sforce.metadata.list(types, apiVersion);\n    });\n    return Promise.all(requestPromises).then(function(results) {\n        results.forEach(function(val, index) {\n            if(val && (!Array.isArray(val) || (Array.isArray(val) && val.length > 0))) {\n                sessionStorage.setItem(requestMetadata[index].type, JSON.stringify(val));\n                var panel, table;\n                table = createTable(fields, requestMetadata[index].table);\n                var hasRecord = false;\n                if(Array.isArray(val)) {\n                    val.forEach(function (value) {\n                        if (value.manageableState != \"installed\" && moment(value[filterByMetadata]).isAfter(userDate)) {\n                            addRow(value, fields, jQuery(table).find('tbody'));\n                            hasRecord = true;\n                        }\n                    });\n                } else {\n                    if (val.manageableState != \"installed\" && moment(val[filterByMetadata]).isAfter(userDate)) {\n                        addRow(val, fields, jQuery(table).find('tbody'));\n                        hasRecord = true;\n                    }\n                }\n\n                if(hasRecord) {\n                    panel = createPanel(requestMetadata[index].type, table, jQuery('#container-tab2'));\n                    jQuery('#container').append(jQuery(panel));\n\n                    jQuery('#' + requestMetadata[index].table).DataTable({\n                        order: [[fields.indexOf('lastModifiedDate'), \"desc\"]],\n                        iDisplayLength: 100\n                    });\n\n                    jQuery('#' + requestMetadata[index].table + ' tbody').on('click', 'tr', function () {\n                        jQuery(this).toggleClass('selected');\n                        if (jQuery(this).hasClass('selected')) {\n                            jQuery(this).find('span.glyphicon').removeClass('glyphicon-unchecked').addClass('glyphicon-check');\n                        }\n                        else {\n                            jQuery(this).find('span.glyphicon').removeClass('glyphicon-check').addClass('glyphicon-unchecked');\n                        }\n                    });\n                }\n            } else {\n                sessionStorage.removeItem(requestMetadata[index].type);\n            }\n        });\n        return Promise.resolve();\n    }).catch(function (err) {\n        return Promise.reject(err);\n    });\n}\n\n\nfunction convertDate(theDate) {\n    if(typeof(theDate) != 'undefined') {\n        var newDate = new Date(theDate);\n        var today = newDate;\n        var year = today.getFullYear();\n        var month = today.getMonth() + 1;\n        var day = today.getDate();\n        if (month < 10)\n            month = '0' + month;\n        if (day < 10)\n            day = '0' + day;\n        return year + '-' + month + '-' + day + 'T00:00:00Z';\n    }\n    else {\n        return '';\n    }\n}\n\nfunction showLoading() {\n    if(!jQuery('#status').hasClass('show')) {\n        jQuery('#status').addClass('show');\n        jQuery('#status').show(); // will first fade out the sfdcConsoleloading animation\n        jQuery('#preloader').show(); // will fade out the white DIV that covers the website.\n    }\n}\nfunction hideLoading() {\n    jQuery('#status').removeClass('show');\n    jQuery('#status').hide(); // will first fade out the sfdcConsoleloading animation\n    jQuery('#preloader').hide(); // will fade out the white DIV that covers the website.\n}"]}