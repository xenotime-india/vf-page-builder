{"version":3,"sources":["chromereload.js"],"names":["LIVERELOAD_HOST","LIVERELOAD_PORT","connection","WebSocket","lastReload","chrome","runtime","onInstalled","addListener","details","Date","now","onerror","console","error","onmessage","e","data","JSON","parse","command","currentTime","reload","developerPrivate","id","failQuietly"],"mappings":"AAAA,IAAIA,gBAAkB,aAClBC,gBAAkB,MAClBC,WAAa,IAAIC,UAAU,QAAUH,gBAAkBC,gBAAkB,eAEzEG,YAAa,EAEjBC,OAAOC,QAAQC,YAAYC,YAAY,SAASC,GAC9CL,WAAaM,KAAKC,QAGpBT,WAAWU,QAAUC,QAAQC,MAE7BZ,WAAWa,UAAY,SAASC,GAC9B,GAAIA,EAAEC,KAAM,CACR,IAAIA,EAAOC,KAAKC,MAAMH,EAAEC,MAC1B,GAAIA,GAAyB,WAAjBA,EAAKG,QAAsB,CACrC,IAAIC,EAAcX,KAAKC,MACnBP,YAAciB,EAAcjB,WAAa,MAElDC,OAAOC,QAAQgB,SACfjB,OAAOkB,iBAAiBD,OAAOjB,OAAOC,QAAQkB,IACnCC,aAAa","file":"chromereload.min.js","sourcesContent":["var LIVERELOAD_HOST = 'localhost:';\nvar LIVERELOAD_PORT = 35729;\nvar connection = new WebSocket('ws://' + LIVERELOAD_HOST + LIVERELOAD_PORT + '/livereload');\n\nvar lastReload = false;\n\nchrome.runtime.onInstalled.addListener(function(details) {\n  lastReload = Date.now();\n});    \n\nconnection.onerror = console.error;\n\nconnection.onmessage = function(e) {\n  if (e.data) {\n      var data = JSON.parse(e.data);\n    if (data && data.command === 'reload') {\n      var currentTime = Date.now();\n      if (lastReload && currentTime - lastReload > 60000) {\n\t// don't reload more than once a minute\n\tchrome.runtime.reload();\n\tchrome.developerPrivate.reload(chrome.runtime.id, \n\t\t\t\t       {failQuietly: true});\n      }\n    }\n  }\n};\n\n"]}