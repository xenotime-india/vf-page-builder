{"version":3,"sources":["badge.js"],"names":["badge","forAllTabs","win_id","callback","chrome","windows","getAll","populate","ws","forEach","win","id","tabs","tab","setBackgroundColor","color","this","browserAction","setBadgeBackgroundColor","tabId","setText","text","setBadgeText","setIcon","icon","path","set","details","status","toString","clearText"],"mappings":"AAMA,IAAIA,OAGAC,WAAY,SAASC,EAAQC,GAGzBC,OAAOC,QAAQC,QAAQC,UAAU,GAAO,SAASC,GAC7CA,EAAGC,QAAQ,SAASC,GACZA,EAAIC,IAAMT,GACVQ,EAAIE,KAAKH,QAAQ,SAASI,GACtBV,EAASU,UAS7BC,mBAAoB,SAASZ,EAAQa,GACjCC,KAAKf,WAAWC,EAAQ,SAASW,GAC7BT,OAAOa,cAAcC,yBAChBC,MAAON,EAAIF,GAAII,MAAOA,OAMnCK,QAAS,SAASlB,EAAQmB,GACtBL,KAAKf,WAAWC,EAAQ,SAASW,GAC7BT,OAAOa,cAAcK,cAChBH,MAAON,EAAIF,GAAIU,KAAMA,OAMlCE,QAAS,SAASrB,EAAQsB,GACtBR,KAAKf,WAAWC,EAAQ,SAASW,GACzBT,OAAOa,cAAcM,SAChBJ,MAAON,EAAIF,GAAIc,KAAMD,OAMtCE,IAAK,SAASxB,EAAQyB,GAClB,OAAQA,EAAQC,QAChB,IAAK,WAIL,IAAK,UACDZ,KAAKF,mBAAmBZ,GAAS,IAAI,IAAI,IAAI,MAC7C,MAEJ,IAAK,UACDc,KAAKF,mBAAmBZ,GAAS,IAAI,IAAI,IAAI,MAC7C,MAEJ,IAAK,UACDc,KAAKF,mBAAmBZ,GAAS,IAAI,IAAI,IAAI,MAC7C,MAEJ,IAAK,YACDc,KAAKF,mBAAmBZ,GAAS,IAAI,IAAI,IAAI,MAIjDc,KAAKI,QAAQlB,EAAQyB,EAAQN,KAAKQ,aAItCC,UAAW,SAAS5B,GAChBc,KAAKI,QAAQlB,EAAS","file":"badge.min.js","sourcesContent":["/*\r\n(c) Copyright Ipswitch, Inc. - https://www.ipswitch.com\r\n*/\r\n\r\n// Handy wrapper for browser action functions\r\n// (badge is not really good naming for the object)\r\nvar badge = {\r\n    // execute callback for all tabs in window\r\n    // callback is function(tab) {...}\r\n    forAllTabs: function(win_id, callback) {\r\n        // for some stupid reason windows.get(win) does not\r\n        // contain \"tabs\" property, so we have to get All windows\r\n        chrome.windows.getAll({populate: true}, function(ws) {\r\n            ws.forEach(function(win) {\r\n                if (win.id == win_id) {\r\n                    win.tabs.forEach(function(tab) {\r\n                        callback(tab);\r\n                    });\r\n                    return;\r\n                }\r\n            });\r\n        });\r\n    },\r\n\r\n\r\n    setBackgroundColor: function(win_id, color) {\r\n        this.forAllTabs(win_id, function(tab) {\r\n            chrome.browserAction.setBadgeBackgroundColor(\r\n                {tabId: tab.id, color: color}\r\n            );\r\n        });\r\n    },\r\n\r\n\r\n    setText: function(win_id, text) {\r\n        this.forAllTabs(win_id, function(tab) {\r\n            chrome.browserAction.setBadgeText(\r\n                {tabId: tab.id, text: text}\r\n            );\r\n        });\r\n    },\r\n\r\n\r\n    setIcon: function(win_id, icon) {\r\n        this.forAllTabs(win_id, function(tab) {\r\n                chrome.browserAction.setIcon(\r\n                    {tabId: tab.id, path: icon}\r\n                );\r\n        });\r\n    },\r\n\r\n\r\n    set: function(win_id, details) {\r\n        switch (details.status) {\r\n        case \"tag_wait\":\r\n            this.setBackgroundColor(win_id, [255,100,100,200]);\r\n            break;\r\n\r\n        case \"loading\":\r\n            this.setBackgroundColor(win_id, [255,100,100,200]);\r\n            break;\r\n\r\n        case \"waiting\":\r\n            this.setBackgroundColor(win_id, [100,255,100,200]);\r\n            break;\r\n\r\n        case \"playing\":\r\n            this.setBackgroundColor(win_id, [100,100,255,200]);\r\n            break;\r\n\r\n        case \"recording\":\r\n            this.setBackgroundColor(win_id, [255,100,100,200]);\r\n            break;\r\n        }\r\n        \r\n        this.setText(win_id, details.text.toString());\r\n    },\r\n\r\n\r\n    clearText: function(win_id) {\r\n        this.setText(win_id,  \"\");\r\n    }\r\n};\r\n"]}